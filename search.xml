<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>resume</title>
    <url>/2022/12/27/resume/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="Oh, these decrypted content cannot be verified, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="2c378f21ed8a0611299c640bc50e06f8419fb00578bd1e236e797028bd47c2b6">7638e67117d09d6888d1134831a4058080a89981c2ec7004c1033c60286d67d18f8f4c9a2922258893b3cca57667c590852b367372161592fde6979ca25cce9035b71492cd4bc738817412ca66838e6a8040e67c8f272af37ddce4fd5982e24be6cb527fbc426dbb4436ecd97daf64436e2cf7013bc6454cbb558a664bb46f093433e171c2d55e4eaea68040835b57a88a9a7fdddb5e969285bb4b2bc2e1a2e291819b6ca1fc51c5e30905414ea4b6e38e41ca56fa99f27e4e40949d07b14e969238beb2b68255f0c6c89622c4fd1cdfa84850f5a2beaec98be331d6679dacbaf02b46d475fc07e85138737565a9ff3da3f43f1d17ba0b91320352cb6c73933a17dcaea0f5ca33247b4a21d3ae95d5962f3768fb9b8902766d64bae2b0f613c674e074346c2491a0b4926dcb0601b1c11d9d6e9c0d8fa0cd21a70e1c899e125b74f09bb189bd4d52541469154c3edb6960efd8bf04fc6c5ef9c898d7b57f9ee3be3180db8304cc872a2a3100c3ded52a71c5b9455b8a3db8cc43d5ecf48be10f6c37052ce8e97f58153019d68253a8b282f9e0ba4fad789e30f76f049ba00bb03d02ea52a89612c41d69a7ae30a574bd5c9ca97562941dd3cbcd0e6bc1210803c71f6671bca7327da4f1142b0d2f94d9e36f77628a8fc5ba59e9187f2e6a0c8cb423d1b8f8cc3e962528d1d2b3144ce7d05675b80f0e1308a3f47ee3b6cf0c5f16ee5c02c9cf60c6a9ce9f2c4d76e4fcab3ac217068d592843984ddd2cb0b5e11daab39560c1db4a3113023e2e41a57b582ab56baf5f0f57c46427210a0315e6fae8b07264b1fc7d5bed6ea2ecbbd9b2a2481c2d66a1a06c04c3c0d5a051314f63b1993dc1990268fc7c67124eb68e9472b40cb8ad79f7f76c61ed96a4710b25d8698f18e47be609f234d42a5f8b3dddadf287973e370b77679cafc5e5fb23dfd9f9f0a985998310ce3c769343aac5d32301b4f00e98d180b06af9ee6112e377c22603787fa78d48f31f42ba1e132b7a6ef4b0b4b7bb4989323f4ac69ff512b2ee3bc085faaea4bea2794d74597548e43922d92d933493bc3a906e71044a5aa3f3d9aa78e4a90248c67f7b4280441c16776346980838b41696d2b1bad0834f238c7150a8fe1f9a39a43fd6fa9fc97058bfd829b5e3459db80686db85735b57554c0ac19320981a9050d710fd7e1d2a91b9548c7d664a353e02840ae32be0c0ae588a05f2b223f168f1e36d800842220f61c9a885f44647d04f6234c35014b520cf7e03e1fe5514cafff050f89ad06cd3431f4a24631f53356043dcbfa09e0420b9b83321107b442089516a8b553258252e9b0d2f19b17f9a886d72b603650440dded669d66dc422433bd96f9495eedabcdaae4555f66d47140f01f086a6cbc2d2b9a03424a171e3f3596274c743a087b0a1685fdc33a15788f8998d2c2442a0922fa5f818f77fa58aa2a3705c7121d1b027a446ea17e656a42efce9b2307a195f7a0cdefb9442517d6025ca88d97d052c39e07fa97a5d6d8567f3fba884d02b13bbd050c502e4cf395bca4cfd8cc5f4f75d811b9bcbd8c2b24e0e87a6553c1dce694bf399702d97f6514fea3f9d761977248cdad4afce1b3736f8865fabefcb2ab1654e079508c7ed82ae0fce415d5b8da23bc7b3f4787164fbb8954f32f546b74907209f88c2b0fd4920f6bc56636341ee8e10219918b51e569e37cc441f4023e24a26aaa8ef3c67703f6bd42aa3ab5b14b1f8e8dfc09c5ea559d9c231a09db4aae7995f1215e349e8c4fa6238d40beb26f3fa66062fc8463d7bfdd679b33e0d16ebb072fd6ea4db12b273a0eb584c98072803d1682a615a2c37e4c52d4fad467d7a241608d9f4b44e911d677631fd09a03401ea5b8efb5be6ebea5cf5cd9004abe6d4f082c666116fa80e7d47c77a285bece025dc27cafe9af3707c12b13cfb73faaffad2e4418b31ea3cb4aecb5fc6c88879427f5c053d7570c96fbe2c93f767deb26318fdb2a60c77e469f69d0da891b4b318861feba4d1da1e8c9a67c2a853836ffca925e3493ff72ad78e29db808027f81aa35547eda56b6f53d276157ab6fa7d58e242c2b6e28f1c6544dd948c3c96b4211b2d0335848b02e576799b7f340d5b5bd96a7035232e6863c09716a7b832ed25af2bde7c2af8b24691806e90e37b330f9a0019812d185b1821f2e932aa26f054d916528d54995f7fabef1aa772319608dba2dcde39c76b40d2f2ce0cd2cc9de1371bd440784f4e6aefae2d87b7ebd61e3af42c6a58bd02d7be12bded5886d06a73fd55aa31206bac14657d68d640a75f731131b91f0d89a27ff5c3b5017655788e26d94f08dbbae6cd0e5027e73e23df30926f33183252a6c593120467f343849cb197d0fbb62fa68288b4012387e8a3d8f313e5353d2f649c8170faf9b6ec4f4c421cc705bff677b26231fb9a65a2fdf2455c0914373e590a094f989e684cf7e4889a786826b7566f2ae2266f4bf2a31ff116e1f5fb21e228f9d2d34551bfbfbf8a1b576327624332a4d6e12364969a7e9be136bb7f321c8331e6f1f76af916390fa50f3a0f831565b86cb7b7c91f94b0c9f283117692d365894dcb265d087d9e3870391f35a5ba3cc48b8720fe523091f4ff064cf8a97409225c410ca590f3fc278dfe20b2efe7e1beae5812d78ce893d9cb2ef1aa8be3bfdf91ea905f0f8bee77687bc0e79e9c93a7ebb650219021c41ecde249154c708f9b4346b667aceabe1c79c56ae0e71d1e405c45fe30d0693c1afe0f9ba779b0feb3f218704c196c1d109442ac208e08d43456e1dca590ff749657a4cd6fe8e156b7f81f63dda69d65df4577068fed7c2f0d5aa5f3c64cdae46563dc395a9854b4b424aff084fa5057a8d492d01864c22a96577c70ef3fc12af200967f8b3316075e8f36198624081906fbffc8ae01405818f2ac95fb413d21e846e28e3d2a2ddaccdbbbc3a222fa1ccb819ae5df84e464f8fec2aa6ff7020033b3e1a027f57e19375ec3147ff949741945ff9cabc80d7a98eab331e4629337bda50377bfcfa20cc2328a9da85ae6498d4109ab7a7a64362d554e6b492afedf20286e131d233281d713afc053090c8bdd9807c7fa898dfc0bb57d8e4b11bec6c4c1fab6dbc4c02f3775732bce53ed8e37b9bdb0e7b727bf8654afed927a9dbc84afac91af4f26f4fe58fdf67039ca7ca868f47e71f58e2caee3805888dc61730c8cf730e3422eaba9bd1d6bb0e6ccb596085100b53c679243c5a34cd8e1965594e1684f69450325b964e8885e5865845952ea2773947f73f587bfb0134218e8f33afc8f33bb5704ce7602454a16a965e0b33d175903e86105c45c9cb657133bf569dc4d5b0ee49961a5a720a9beb94af1f72012b7fa1070cf9ac89f0aafa8f9293807ed8e86c79a0671165492f94021aebf286246109d96e547d8b3d4907bb3977bcd515a338e6c1399e13625520f95d2a5308c43afea28be269f2057defd5db0e4ce5380e3392a64afc934562837e25b8ee98eab37dce7e49028422a06ffb87d45bf282def4d6f9a9074abe69a0061fea75ee10bd7eb3d513a2532b3f8ea09c36908517391cc911b39496cb0dd77236087f68038fb7325c7eb996cf337786cab75185b32cf4ac8815ea51e7521ec8f3a4dd23fe08862baa5e25eba79e6c0c876b93b1ba83e52f14b83afb99c2eeba6949f0b61f3ec807790ae525b1408fe1c70ed6518465424246f5855211255df9a51b194e483fba665a9d38dc7af142dfdca2d36c64a03caf2b6d768a751b83e448f013082d8b3bb68a7a8717ed49126aaa8b36a993e18e4d2544c0eddb66015563255ac084ba5519226bd300a9045fcfa635a5e4ff9a4dfd24e403887789f2cd11b59c747e44ccdfda65012158eb3fc0e2ba2b83e3a57be392edc76a9636420659a72d0ce7597838a192767e35cc7efda8a7eaebe8d85fb133ac003108680f7ef252f993d4946b2adcee8658c19716a7328225d861da3929cf368e227d5797d0fa30f96e564c70fe217badb2c9bcb8fb4554f90d95d35d285daa3be5f414da9e0c71419ffe22cf3df12e73fe287f81b80d09fe21131010e784fb31236e3a41f00fc2ab6861d465c908e8308fc91d6da0663670cad505ae1f0c84163f5c8f696c7576406774ad6d520888e1cfa338627db6611c2f7ebc9f79b6299ef8a74bfef1af57c0a43d82b0251be0eeaa9903248b2629bd42f2d85d9538d82c54f9fe12aa9cb52c72a9bdb5542f9d9623c7dfb2635a751d6195782856c15ed190373a6a5ab0fa0414c347f5ee245085255a9443555f9643062dcd8657f228968428c7ea4c60694619a3cb7f513ac70480c0a8b9ef9243c635805d58b2669ff7ca2ca0eb2a31029a305458028d9aeec9531de8ef5f1e369f6522e3dd63628caeafb1909baf87d0917bef0ce9c1dd488954f9c17cb8ce1813a80fa681e1ffce6068c98482b96aa24a46ee6cfb12e0bd98934fce70faa5e86b95ca5faf3092f089f7c33d29b02e957937d58ef4a3b6703ec06f52c4421181a75e0671bc1a6df037351bcb7c7d9c0b1c3baa6b6d5dc5d4caabd3f3176c6630d01b7b57f995729533d6f8676fe053ed37e836a4a3837c0c6cb04fd519afc90634ea96de47f47dc892c5d93db896578527c4430f2f6c7df18f07d010121a889657bb9d2791220496a0558252e3aa6901500af3aad87071682be59e327ae4e5141cf872d070fcf75df93791bc77485b96a08276933d82cf9a476e4c86fb0c1a720f077103a3605960f1c9223bc65a69cb8feb88ef6bc77bc07aeeb6be305f3687d68d2481b2545b1816153ddef46a75f2c10500f5a12990225b64ea6af67497e482dc8cc87d2534bb60aaab0f0fff3aea8505f409aa3b91c67199a02ffa3339de7990243d3642b4a59dc1ee1b88a6c398ae4bcd6667c5beb6c3ca0054a6320831e975082ebab6c11c77c77666a6b2ecf478b11ade1a9ea258065444160102a5d7f384653addd9e89dc69ac549383fc4ced84aaf8c22ec03455dc9ed88e65f79a26449f11e343c5aaf504798ff53b2433acfec709f42820b6d7c8c3d6bb130fe2205190ab9593dae255e621ed8e9a800b4402f766f1059678a87482237b0ef39afdc96e96fd761edccbd440c3c1ccc17051c1548008f39d4c66e35106b158a061bcb4d883489e2996bd440ba1fc20e2a28c164d25aa184bfb283d3dcb65d551e9a9f358ce1838c6763fd381c598929a6d25ed8e0afd96f0db9fecea4dd031f055658d374ee6da08f1fa6728711a4c4c4839d60a73c3b78bd10a971e1a497dbb454df98e5288e79cc8b21da47872280e776cf12ea7e29e007e656b98a2db7edde47fea1a7154d5cb947bc3ce599b111cf0afd87480c58f259e04abe40d2d467bb4ea8aa70401825876220c9e84a07dd937596892b832becd8b8d57866c0806b85de59cd76477f00489d618176519abe2f2cf681c9b860275ff71f9e2214aaebab8bf5decc4bf7e68bfab86ad389f2b0c84f18d4c6de5f32859bcdd9e6064c89185772a3af1717f15ecfb892bccccdb8fb27b354b194d4bcf126375733c0c67a7f62ab76d8ddfbf6fdef06252962126a239df16533c06b2931e96df20b74e09aa4ce93505f42d1c3916c13f1152bedd843e15d9ab59208bf4858c38dd246cdb9401da25e16b6986efd09a99b9fe8e46e7a096cd72faa6f26eee87cdf1cf4e1e60f8b6af1d03f8fba85f7a63ec81ab06ceda9b2e09962c93721865f740379878b35fc1fa3e9543130f58ab9cc3c94d593351736fb07372e0a22a3e2c697145e30f483d8e1f99735ed0be5a4b2e22e0d6bafbd09666f61a301456d2ad0aa066dbcd5cd8982bff9f634447012e64576c9e9226d2b93fbc7f9c945c7550722916acbee50d160dc89f9308b53436c3cf61d713b644f9edb45d83e8e7c08105f51c3642fc45a7efebfe378bd4f5a7ea9a28dc5f7679043f79f69083649d875b336d54bf58d1f7479d10e6f57151be424678ae86303293a7acd6d311dae55ee181687756f3cebaeaa65884e93b02136ea579f03c8c89f24341441330b0ec64fcbee5aa859a9d67bdb50d78321d2a35e7c2c8a6d109d9e893313ce8c329e23abc784d1f356ce722a8a6c1a314b3bd4dc64bb5f80866d4d281fe35a22ff9726e9cf93dc5f6af6a5f6440a0eb7664ce514dfdafbfcbb4b6e44ee43c8a79eb4dc4f855634627f88192f421d26f64257090d551bbd3c1b001f255885800b3e0d7d31cafd0c422eb43fa6dafa9e935eb4e1a76fc67b60484054892b0763ac60824bc73e41d8439646a4299f6f36131527102216858936d290774733cc55d5908771ddbe32a9bdf23c45cd9ce5fa88427998afd3c0ca3655903ade70adef0b6a2544d58bbd9252150559fdd6b7e84289a168a4ac74c80143add99f0df7d18e9508c3e1f6db153edc05b00189854161c3f3af6c92c3bd6fdaec21cb7f01f19439b4f17c74c387146c44261a0ad15f69ac5106a69b62bacf93e0b89bddc707db5c83ce8f3cda719bae76f6bdb772fa2f9c38ba3f01c5eb97e11266281c9fade65d5b95801ab5b3be01fbd091c747cd06f101fffe7db74c3c82505a1b6b0ff734dbd990f9365a293135322b23102d97a0c34e225010cd1287eb883bbe1962ee54e119a0831057785f967903e30fd3a491504f328c3850e2fe8ef40faa6c71986fd4b09c30cc294a36c21882b7b30492d5e886f7db45d7e0b138755e3fafe1bcb22d0e06ae8278962c6b33b037632564c669e7b33c2d270aa9ba4edc8309bb4973caf154ebfaaea581a62d1506cb2fa78a4079c94375fb085adf6f9468bc4ca76e6dcdca55a7487d19d1ef1ee86544a1af5160ead5964ab79d9fd9de4690fe0bb7ea20b3f82f43d81fea5a6d8f9f26cba93bfd86f069738dad734e729b5cbaae6908557b825170c8142a4e5ace03b798cf6165685c14bc7fad5b0b005b14191062778e89356c6eb394eb5746951555ce6a296d8a8bcf45cb0225b04074852dd40687a9e03fca68163e76c79b70ea70c2bd53185d58ee943f10d0dcbcd919ec60a68271671d1dac6849c92216febfdb67635e2e2fe2a2b19ae95cf55128a25c735303592609afea1cd487953aa4fe172d5a88f8781660fd968bae0f568ed27d6ee43a06102cf9103c81a10120f5230b2ef252a697edcffae811c8f2976a5dbf072659aeb6bb7e7997beff5cdd68450a5d8606258eb15d6b115ceea85856e154cae580cb51a1908593a2c3e581000a8de3f646246cd55f94ff6b05f045e853a98e8b6694572381bf7608af9cc48889400d4f2a3cb1d34312773f8eaabd8bfb6b614eb33a0d5024234688d581f4dc555c5fe1428e3bb851557cb50eaa20edacafefc32ad97048750c06c03d672581bcfa957b866a4d7c1a5922616a59b7ddf1dd70794cebbb4588d0f34e751e8ebfd76433d9c942df</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>resume</tag>
      </tags>
  </entry>
  <entry>
    <title>Game Aids</title>
    <url>/2022/12/22/Game-Aids/</url>
    <content><![CDATA[<p>这是第一个相对完整的Python项目，算是对自学Python的学习实践吧<br>python + pyautogui + opencv + easyocr， Game-Aids.</p>
<hr>
 <span id="more"></span>

<p>[TOC]</p>
<h2 id=""><a href="#" class="headerlink" title="."></a>.</h2><blockquote>
<p>时间：2022-12-25 </p>
</blockquote>
<p>工作日渐繁忙，或许不久的将来，又会回到退游的状态，等到我归来时又是一贫如洗，出于对dxcb2的喜爱<del>（主要是心疼我氪的金）</del>，我决定写一个程序来帮我完成简单的日常任务来积累资源（因为购买了坩埚和沙漏，流程变得相对简单），例如消耗每天的冒险时间，庄园的双倍收益，竞技场的荣誉碎片，教会的个人任务，得益于大学的时候我做过一个非常糟糕版本，我只需要完成框架的优化和技术的更新（就是OCR），这些目前已经完成，当然还有更多需求需要完成，那就在这建立一个TODO好了。</p>
<blockquote>
<p>时间是足够的， 感谢疫情 :(</p>
<p>甚至我还有时间把它优化到满足日常工作需要，把我从繁复的重复劳动中解放出来</p>
<p>再次感谢疫情 :(</p>
<p>这样我周末就有更多时间出去玩了，emmmm，我讨厌疫情 :(</p>
</blockquote>
<h2 id="TODO："><a href="#TODO：" class="headerlink" title="TODO："></a>TODO：</h2><ul>
<li><p><input checked="" disabled="" type="checkbox">  装备满了就无法冒险，需要分解它们    </p>
</li>
<li><p><input disabled="" type="checkbox">  教会的任务两天一次，或许我可以在配置文件里添加条件</p>
</li>
<li><p><input disabled="" type="checkbox">  竞技场还有赛季奖励，别漏了这个</p>
</li>
<li><p><input disabled="" type="checkbox">  裂隙好像也是可以的，应该不难</p>
</li>
<li><p><input checked="" disabled="" type="checkbox">  记录自动化操作流程，简化同一设备执行过程</p>
</li>
<li><p><input disabled="" type="checkbox">  把领取收益和冒险分开，刚好庄园也是一天需要登录两次</p>
</li>
<li><p><input disabled="" type="checkbox">  庄园的存储是有上限的，做成沙子或许是个不错的选择</p>
</li>
<li><p><del>圣迹还需要大量的时间，我不登录这段的时间好像刚好</del></p>
</li>
<li><p><input disabled="" type="checkbox">  消耗沙子同样令人烦躁，这是可以节省的时间</p>
</li>
<li><p><input disabled="" type="checkbox">  奥，OCR让很多功能可以简单地实现出来。很多。happy&amp;&amp;sad.</p>
</li>
<li><p><input disabled="" type="checkbox">  运行发生严重错误邮件提醒</p>
</li>
</ul>
<h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><ul>
<li><p>首先，需要在window上运行Android，这需要simulator</p>
<p>感谢<a href="https://www.bluestacks.cn/"><strong>BlueStacks</strong></a>，ld的恶心程度记忆尤新，当然现在依然如此 </p>
<p><img src="/2022/12/22/Game-Aids/image.png"></p>
</li>
<li><p>完全的自动化需要window定时任务或者放在服务器上，现在的目标暂时是打包成exe</p>
</li>
<li><p>为了实现自动化操作，需要获取屏幕信息以及控制鼠标键盘，需要的模块(pip install)</p>
<ul>
<li><p>opencv-python(cv2)</p>
</li>
<li><p>numpy</p>
</li>
<li><p>Pillow(PIL)</p>
</li>
<li><p>PyAutoGUI</p>
</li>
<li><p>easyocr</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>大概的思路就是：针对事先截下点击目标，获取当前截图，匹配目标位置，点击，重复核心就是增加逻辑，重复这个操作，完成整个流程，这是一个很朴素的思路，在我退游的时候，easyocr还没出现，我只有这个相对简便选择。当然，现在也是，我的PC不支持CUDA，OCR会影响性能，我必须得结合起来使用。sad.</p>
</li>
<li><p>功能需求都在TODO了</p>
</li>
<li><p>python环境(3.11)和IDE(pycharm)不展开说明</p>
</li>
<li><p>接下来是设计与实现</p>
</li>
<li><p>end</p>
</li>
</ul>
<h2 id="设计与实现"><a href="#设计与实现" class="headerlink" title="设计与实现"></a>设计与实现</h2><h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><ul>
<li>dxcb2<ul>
<li><p>bin                 存放可执行文件等，外加ocr需要的model等</p>
</li>
<li><p>config           config files. such as ini and json</p>
</li>
<li><p>docs             xmind,drawio,markdown</p>
</li>
<li><p>lib                 library function</p>
</li>
<li><p>Logs             log files</p>
</li>
<li><p>src                main function</p>
</li>
<li><p>static            resource(png file)</p>
</li>
<li><p>extend         extend function</p>
</li>
</ul>
</li>
</ul>
<h3 id="整体设计"><a href="#整体设计" class="headerlink" title="整体设计"></a>整体设计</h3><p><img src="/2022/12/22/Game-Aids/dxcb2-Main.drawio.png"></p>
<p>流程：</p>
<ul>
<li><p>初始化，包括检查网络，加载默认配置，游戏配置，资源文件等</p>
</li>
<li><p>打开模拟器</p>
</li>
<li><p>打开游戏，开始任务</p>
</li>
<li><p>运行结束，修改相关配置文件</p>
</li>
</ul>
<h3 id="主要功能实现"><a href="#主要功能实现" class="headerlink" title="主要功能实现"></a>主要功能实现</h3><h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p>toml + json (import tomllib, json)</p>
<ul>
<li>任务模块的开关</li>
<li>resource的索引</li>
<li>控制特定任务的参数</li>
<li>一些功能的开关</li>
<li>后续会提取诸如部分path作为可配置参数</li>
<li>log 日志等级</li>
</ul>
<h4 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h4><p>png文件作为target.</p>
<p>ocr或许可以极大程度将这部分化繁为简，同时也会提高性能要求</p>
<p>按任务模块映射目录进行分类</p>
<p>利用json module + json文件 , 用os.walk将static下文件记录到JSON文件，<br>通过生成文件索引，实现索引+递归快速查找resource</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">def __find_res(self, temp_dict, name):</span><br><span class="line">    target_key = None</span><br><span class="line">    for key, value in dict.items(temp_dict):</span><br><span class="line">        if key == name:</span><br><span class="line">            print(value)</span><br><span class="line">            return value</span><br><span class="line">        if type(value) is dict and list.index(self.res_list, key) &lt; list.index(self.res_list, name):</span><br><span class="line">            target_key = key</span><br><span class="line">    return self.__find_res(temp_dict[target_key], name)</span><br></pre></td></tr></table></figure>

<h3 id="优化方案"><a href="#优化方案" class="headerlink" title="优化方案"></a>优化方案</h3><p>方向有两个：</p>
<ul>
<li>OCR代替png图片，但只能是一部分，所以先置后</li>
<li>操作流程，主要突破点（v2.0.x 版本, 已更新）</li>
</ul>
<h4 id="自动化操作"><a href="#自动化操作" class="headerlink" title="自动化操作"></a>自动化操作</h4><p> <code> auto.py + matching.py</code>      </p>
<p> 通过auto的match target position函数，<br> 结合matching的辅助图像处理函数以及均值哈希图像对比算法，<br> 确定目标存在与否，相对位置，以及对应的动作，<br> 代码篇幅较大，就不贴出来了。<br> 算是核心部分了，但项目还未结束，此函数有待完善，后续再做补充。</p>
<p>完善方向主要在模拟操作的过程，提取模型，简化代码，已有草案。</p>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>pyinstaller</p>
<p>command:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pyinstaller --noconfirm -c -D ../../src/main.py -i ../../static/Jacque.ico -n dxcb2 --add-data=&quot;../../docs/model;./model&quot; --add-data=&quot;../../config;./config&quot; --add-data=&quot;../../static;./static&quot; --add-data=&quot;../../Logs;./Logs&quot; --hidden-import=../../lib/ocr.py</span><br></pre></td></tr></table></figure>

<p>实在是不想整图形界面，命令行程序应该可以满足我的需求</p>
<h2 id="Now"><a href="#Now" class="headerlink" title="Now"></a>Now</h2><blockquote>
<p>date:2023-2-23</p>
</blockquote>
<p>过完春节，还跑去玩了好几次，终于想起搁置的小项目了，罪过罪过</p>
<p>pyinstaller的打包暂时没有问题了，或许周末可以完整测试一下了。:)</p>
<blockquote>
<p>date:2023-3-23</p>
</blockquote>
<p>重构主要流程，基本完成</p>
<blockquote>
<p>date:2023-3-30</p>
</blockquote>
<p>v2.0.x 已更新</p>
<p>后续功能需要OCR，easyocr不适配Python3.11，github上的issue尚未解决。:(</p>
<blockquote>
<p>date 2023-4-12</p>
</blockquote>
<p>复制TODO到项目的note</p>
<h2 id="about"><a href="#about" class="headerlink" title="about"></a>about</h2><p>只会在大版本更新再更新博客了。2023年4月12日。</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
</search>
